<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Profile</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="icon-container">
            <img src="path/to/your/icon.png" alt="Icon" class="icon">
        </div>
        <ul>
            <li><a href="index.html">Dashboard</a></li>
            <li><a href="customer.html">Customers</a></li>
            <li><a class="small-button" href="view-reports.html">View Reports</a></li>
            <li><a href="transactions.html">Transactions</a></li>
        </ul>
    </nav>
    <div class="content">
        <h1>Edit Profile</h1>
        <form id="edit-profile-form">
            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" value="John Doe">
            </div>
            <div class="form-group">
                <label for="birthdate">Birthdate:</label>
                <input type="date" id="birthdate" name="birthdate" value="1990-01-01">
            </div>
            <div class="form-group">
                <label for="nric">NRIC:</label>
                <input type="text" id="nric" name="nric" value="12345678">
            </div>
            <div class="form-group">
                <label for="profile-photo">Profile Photo:</label>
                <input type="file" id="profile-photo" name="profile-photo">
            </div>
            <button type="submit">Save Changes</button>
        </form>
    </div>

    <script>
        const form = document.getElementById('edit-profile-form');
    
        form.addEventListener('submit', (e) => {
            e.preventDefault();
    
            const formData = new FormData(form);
            const xhr = new XMLHttpRequest();
    
            xhr.open('POST', 'https://example.com/api/update-profile', true);
            xhr.onload = function() {
                if (xhr.status === 200) {
                    console.log('Profile updated successfully!');

                    const userProfile = JSON.parse(xhr.responseText);
    
                    localStorage.setItem('userProfile', JSON.stringify(userProfile));
    
                    window.location.href = 'index.html';
                } else {
                    console.error('Error updating profile:', xhr.statusText);
                }
            };
    
            xhr.send(formData);
        });
    </script>
    